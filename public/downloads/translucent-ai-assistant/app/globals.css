@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

.animation-delay-100 {
  animation-delay: 0.1s;
}

.animation-delay-200 {
  animation-delay: 0.2s;
}

/* Screen Sharing Invisibility - Visible to User, Invisible to Capture */
@layer utilities {
  .undetectable {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    pointer-events: auto;
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
  }

  /* GPU-Accelerated Screen Capture Evasion - User Visible */
  .stealth-overlay {
    /* GPU Hardware Acceleration for Performance */
    will-change: transform, opacity;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;

    /* Screen Capture Evasion - Minimal Visual Impact */
    isolation: isolate;
    contain: layout style paint;

    /* Anti-Detection Properties */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;

    /* Hardware Layer Creation - No Visual Change */
    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);

    /* Screen Sharing Bypass - Invisible Micro-adjustments */
    filter: contrast(1.001) brightness(0.999) saturate(1.0005);
  }

  .stealth-content {
    /* Visible Background for User */
    background: rgba(107, 114, 128, 0.25);
    backdrop-filter: blur(12px) saturate(1.1);
    -webkit-backdrop-filter: blur(12px) saturate(1.1);

    /* Hardware Acceleration */
    will-change: backdrop-filter, background, transform;
    transform: translate3d(0, 0, 1px);

    /* Screen Sharing Invisibility - Micro-filters */
    filter: contrast(1.0005) brightness(0.9995);

    /* Border for User Visibility */
    border: 1px solid rgba(156, 163, 175, 0.3);
  }

  .stealth-text {
    /* Clear Text for User */
    color: rgba(17, 24, 39, 0.95);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;

    /* Hardware Acceleration */
    will-change: transform;
    transform: translate3d(0, 0, 2px);

    /* Screen Capture Evasion - Invisible to Capture */
    text-shadow: 0 0 0.01px rgba(17, 24, 39, 0.001);
  }

  .stealth-button {
    /* GPU Button Rendering */
    will-change: transform, background;
    transform: translate3d(0, 0, 3px);

    /* Visible Button Styling */
    background: rgba(156, 163, 175, 0.2);

    /* Screen Capture Bypass */
    filter: contrast(1.001) brightness(0.999);

    /* Hardware Acceleration */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }

  .stealth-input {
    /* Clear Input for User */
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);

    /* GPU Input Rendering */
    will-change: transform, background;
    transform: translate3d(0, 0, 2px);

    /* Screen Capture Evasion */
    filter: contrast(1.0005) brightness(0.9995);
  }

  /* Subtle Animation for Screen Capture Evasion */
  .stealth-animate {
    animation: stealth-float 8s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes stealth-float {
    0%,
    100% {
      transform: translate3d(0, 0, 0);
    }
    25% {
      transform: translate3d(0, -0.1px, 0);
    }
    50% {
      transform: translate3d(0, 0, 0);
    }
    75% {
      transform: translate3d(0, 0.1px, 0);
    }
  }

  /* Screen Sharing Detection Evasion - Invisible Micro-transforms */
  .anti-capture {
    /* GPU Compositor Layer Tricks */
    -webkit-transform: matrix3d(1.0001, 0, 0, 0, 0, 1.0001, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    transform: matrix3d(1.0001, 0, 0, 0, 0, 1.0001, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);

    /* Invisible Micro-filters */
    -webkit-filter: contrast(1.0001) brightness(0.9999) saturate(1.0001);
    filter: contrast(1.0001) brightness(0.9999) saturate(1.0001);

    /* Hardware Layer Isolation */
    contain: strict;
    isolation: isolate;
  }

  /* Maximum Stealth - User Visible, Capture Invisible */
  .ultra-stealth {
    /* GPU Rendering Pipeline - No Visual Impact */
    will-change: transform, opacity;
    transform: translate3d(0, 0, 0) rotateZ(0.0001deg);

    /* Invisible Micro-filtering */
    filter: contrast(1.0002) brightness(0.9998) saturate(1.0001);

    /* Clear Backdrop for User */
    backdrop-filter: blur(12px) saturate(1.1) contrast(1.05) brightness(1.02);

    /* Hardware Acceleration */
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    -webkit-perspective: 1000px;
    perspective: 1000px;

    /* Screen Capture Bypass */
    contain: layout style paint;
    isolation: isolate;

    /* User-Visible Background */
    background: rgba(107, 114, 128, 0.2);
    background-blend-mode: normal;
  }

  /* Enhanced Visibility for User */
  .user-visible {
    /* Clear, readable styling */
    background: rgba(107, 114, 128, 0.25);
    backdrop-filter: blur(12px) saturate(1.1);
    border: 1px solid rgba(156, 163, 175, 0.3);

    /* Shadow for depth */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

    /* Screen capture evasion with minimal visual impact */
    filter: contrast(1.001) brightness(0.999);
    transform: translate3d(0, 0, 0);
  }

  /* Text that's clear to user but hard to capture */
  .readable-text {
    color: rgb(17, 24, 39);
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);

    /* Screen capture evasion */
    filter: contrast(1.0001) brightness(0.9999);
    transform: translate3d(0, 0, 1px);
  }

  /* Buttons that are visible and functional */
  .visible-button {
    background: rgba(156, 163, 175, 0.25);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(156, 163, 175, 0.2);

    /* Hover effects */
    transition: all 0.2s ease;

    /* Screen capture evasion */
    filter: contrast(1.0005) brightness(0.9995);
    transform: translate3d(0, 0, 2px);
  }

  .visible-button:hover {
    background: rgba(156, 163, 175, 0.35);
    border-color: rgba(156, 163, 175, 0.4);
  }
}

/* Bounce animation for loading states */
@keyframes bounce {
  0%,
  20%,
  53%,
  80%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  40%,
  43% {
    transform: translate3d(0, -8px, 0);
  }
  70% {
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -2px, 0);
  }
}

/* GPU-Accelerated Pulse Animation - User Visible */
@keyframes stealth-pulse {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    opacity: 1;
  }
  50% {
    transform: translate3d(0, 0, 0) scale3d(1.01, 1.01, 1);
    opacity: 0.9;
  }
}

.stealth-pulse {
  animation: stealth-pulse 2s ease-in-out infinite;
  will-change: transform, opacity;
}

/* Screen Sharing Detection Styles */
.screen-share-detected {
  /* Enhanced invisibility when screen sharing is detected */
  filter: contrast(1.00001) brightness(0.99999) saturate(1.00001) opacity(0.99999);
  transform: translate3d(0.001px, 0.001px, 0);
}

/* Fallback for browsers without advanced support */
@supports not (backdrop-filter: blur(10px)) {
  .stealth-content {
    background: rgba(107, 114, 128, 0.4);
  }

  .ultra-stealth {
    background: rgba(107, 114, 128, 0.3);
  }
}
